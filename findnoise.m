r1 = imread('../data/rampi/1.tiff');
r2 = imread('../data/rampi/2.tiff');
r3 = imread('../data/rampi/3.tiff');
r4 = imread('../data/rampi/4.tiff');
r5 = imread('../data/rampi/5.tiff');
r6 = imread('../data/rampi/6.tiff');
r7 = imread('../data/rampi/7.tiff');
r8 = imread('../data/rampi/8.tiff');
r9 = imread('../data/rampi/9.tiff');
r10 = imread('../data/rampi/10.tiff');
%%
r11 = imread('../data/rampi/11.tiff');
r12 = imread('../data/rampi/12.tiff');
r13 = imread('../data/rampi/13.tiff');
r14 = imread('../data/rampi/14.tiff');
r15 = imread('../data/rampi/15.tiff');
r16 = imread('../data/rampi/16.tiff');
r17 = imread('../data/rampi/17.tiff');
r18 = imread('../data/rampi/18.tiff');
r19 = imread('../data/rampi/19.tiff');
r20 = imread('../data/rampi/20.tiff');
%%
r21 = imread('../data/rampi/21.tiff');
r22 = imread('../data/rampi/22.tiff');
r23 = imread('../data/rampi/23.tiff');
r24 = imread('../data/rampi/24.tiff');
r25 = imread('../data/rampi/25.tiff');
r26 = imread('../data/rampi/26.tiff');
r27 = imread('../data/rampi/27.tiff');
r28 = imread('../data/rampi/28.tiff');
r29 = imread('../data/rampi/29.tiff');
r30 = imread('../data/rampi/30.tiff');

%%
r31 = imread('../data/rampi/31.tiff');
r32 = imread('../data/rampi/32.tiff');
r33 = imread('../data/rampi/33.tiff');
r34 = imread('../data/rampi/34.tiff');
r35 = imread('../data/rampi/35.tiff');
r36 = imread('../data/rampi/36.tiff');
r37 = imread('../data/rampi/37.tiff');
r38 = imread('../data/rampi/38.tiff');
r39 = imread('../data/rampi/39.tiff');
r40 = imread('../data/rampi/40.tiff');

%%
r41 = imread('../data/rampi/41.tiff');
r42 = imread('../data/rampi/42.tiff');
r43 = imread('../data/rampi/43.tiff');
r44 = imread('../data/rampi/44.tiff');
r45 = imread('../data/rampi/45.tiff');
r46 = imread('../data/rampi/46.tiff');
r47 = imread('../data/rampi/47.tiff');
r48 = imread('../data/rampi/48.tiff');
r49 = imread('../data/rampi/49.tiff');
r50 = imread('../data/rampi/50.tiff');

%% choose 5 pixels and plot the histogram across these 50 images
p1(1,:) = [r1(1277,2374),r2(1277,2374),r3(1277,2374),r4(1277,2374),r5(1277,2374),r6(1277,2374),r7(1277,2374),r8(1277,2374),r9(1277,2374),r10(1277,2374)];
p1(2,:) = [r11(1277,2374),r12(1277,2374),r13(1277,2374),r14(1277,2374),r15(1277,2374),r16(1277,2374),r17(1277,2374),r18(1277,2374),r19(1277,2374),r20(1277,2374)];
p1(3,:) = [r21(1277,2374),r22(1277,2374),r23(1277,2374),r24(1277,2374),r25(1277,2374),r26(1277,2374),r27(1277,2374),r28(1277,2374),r29(1277,2374),r30(1277,2374)];
p1(4,:) = [r31(1277,2374),r32(1277,2374),r33(1277,2374),r34(1277,2374),r35(1277,2374),r36(1277,2374),r37(1277,2374),r38(1277,2374),r39(1277,2374),r40(1277,2374)];
p1(5,:) = [r41(1277,2374),r42(1277,2374),r43(1277,2374),r44(1277,2374),r45(1277,2374),r46(1277,2374),r47(1277,2374),r48(1277,2374),r49(1277,2374),r50(1277,2374)];

figure
imhist(p1)
title('pixel1 histogram');
xlim([1000,2500]);
ylim([0,25]);

%%
p2(1,:) = [r1(1229,3748),r2(1229,3748),r3(1229,3748),r4(1229,3748),r5(1229,3748),r6(1229,3748),r7(1229,3748),r8(1229,3748),r9(1229,3748),r10(1229,3748)];
p2(2,:) = [r11(1229,3748),r12(1229,3748),r13(1229,3748),r14(1229,3748),r15(1229,3748),r16(1229,3748),r17(1229,3748),r18(1229,3748),r19(1229,3748),r20(1229,3748)];
p2(3,:) = [r21(1229,3748),r22(1229,3748),r23(1229,3748),r24(1229,3748),r25(1229,3748),r26(1229,3748),r27(1229,3748),r28(1229,3748),r29(1229,3748),r30(1229,3748)];
p2(4,:) = [r31(1229,3748),r32(1229,3748),r33(1229,3748),r34(1229,3748),r35(1229,3748),r36(1229,3748),r37(1229,3748),r38(1229,3748),r39(1229,3748),r40(1229,3748)];
p2(5,:) = [r41(1229,3748),r42(1229,3748),r43(1229,3748),r44(1229,3748),r45(1229,3748),r46(1229,3748),r47(1229,3748),r48(1229,3748),r49(1229,3748),r50(1229,3748)];

figure
imhist(p2)
title('pixel2 histogram');
xlim([12000,18000]);
ylim([0,10]);

%%
p3(1,:) = [r1(2614,2398),r2(2614,2398),r3(2614,2398),r4(2614,2398),r5(2614,2398),r6(2614,2398),r7(2614,2398),r8(2614,2398),r9(2614,2398),r10(2614,2398)];
p3(2,:) = [r11(2614,2398),r12(2614,2398),r13(2614,2398),r14(2614,2398),r15(2614,2398),r16(2614,2398),r17(2614,2398),r18(2614,2398),r19(2614,2398),r20(2614,2398)];
p3(3,:) = [r21(2614,2398),r22(2614,2398),r23(2614,2398),r24(2614,2398),r25(2614,2398),r26(2614,2398),r27(2614,2398),r28(2614,2398),r29(2614,2398),r30(2614,2398)];
p3(4,:) = [r31(2614,2398),r32(2614,2398),r33(2614,2398),r34(2614,2398),r35(2614,2398),r36(2614,2398),r37(2614,2398),r38(2614,2398),r39(2614,2398),r40(2614,2398)];
p3(5,:) = [r41(2614,2398),r42(2614,2398),r43(2614,2398),r44(2614,2398),r45(2614,2398),r46(2614,2398),r47(2614,2398),r48(2614,2398),r49(2614,2398),r50(2614,2398)];

figure
imhist(p3)
title('pixel3 histogram');
xlim([1000,2000]);
ylim([0,25]);

%%
p4(1,:) = [r1(2500,3500),r2(2500,3500),r3(2500,3500),r4(2500,3500),r5(2500,3500),r6(2500,3500),r7(2500,3500),r8(2500,3500),r9(2500,3500),r10(2500,3500)];
p4(2,:) = [r11(2500,3500),r12(2500,3500),r13(2500,3500),r14(2500,3500),r15(2500,3500),r16(2500,3500),r17(2500,3500),r18(2500,3500),r19(2500,3500),r20(2500,3500)];
p4(3,:) = [r21(2500,3500),r22(2500,3500),r23(2500,3500),r24(2500,3500),r25(2500,3500),r26(2500,3500),r27(2500,3500),r28(2500,3500),r29(2500,3500),r30(2500,3500)];
p4(4,:) = [r31(2500,3500),r32(2500,3500),r33(2500,3500),r34(2500,3500),r35(2500,3500),r36(2500,3500),r37(2500,3500),r38(2500,3500),r39(2500,3500),r40(2500,3500)];
p4(5,:) = [r41(2500,3500),r42(2500,3500),r43(2500,3500),r44(2500,3500),r45(2500,3500),r46(2500,3500),r47(2500,3500),r48(2500,3500),r49(2500,3500),r50(2500,3500)];

figure
imhist(p4)
title('pixel4 histogram');
xlim([10000,15000]);
ylim([0,10]);

%%
p5(1,:) = [r1(1977,3100),r2(1977,3100),r3(1977,3100),r4(1977,3100),r5(1977,3100),r6(1977,3100),r7(1977,3100),r8(1977,3100),r9(1977,3100),r10(1977,3100)];
p5(2,:) = [r11(1977,3100),r12(1977,3100),r13(1977,3100),r14(1977,3100),r15(1977,3100),r16(1977,3100),r17(1977,3100),r18(1977,3100),r19(1977,3100),r20(1977,3100)];
p5(3,:) = [r21(1977,3100),r22(1977,3100),r23(1977,3100),r24(1977,3100),r25(1977,3100),r26(1977,3100),r27(1977,3100),r28(1977,3100),r29(1977,3100),r30(1977,3100)];
p5(4,:) = [r31(1977,3100),r32(1977,3100),r33(1977,3100),r34(1977,3100),r35(1977,3100),r36(1977,3100),r37(1977,3100),r38(1977,3100),r39(1977,3100),r40(1977,3100)];
p5(5,:) = [r41(1977,3100),r42(1977,3100),r43(1977,3100),r44(1977,3100),r45(1977,3100),r46(1977,3100),r47(1977,3100),r48(1977,3100),r49(1977,3100),r50(1977,3100)];

figure
imhist(p5)
title('pixel5 histogram');
xlim([5000,10000]);
ylim([0,12]);

%%
mmm = [];
count = 1;
for i = 1277:4:2566
    for j = 2398:2:3772
        sum(1,:) = [r1(i,j),r2(i,j),r3(i,j),r4(i,j),r5(i,j),r6(i,j),r7(i,j),r8(i,j),r9(i,j),r10(i,j)];
        sum(2,:) = [r11(i,j),r12(i,j),r13(i,j),r14(i,j),r15(i,j),r16(i,j),r17(i,j),r18(i,j),r19(i,j),r20(i,j)];
        sum(3,:) = [r21(i,j),r22(i,j),r23(i,j),r24(i,j),r25(i,j),r26(i,j),r27(i,j),r28(i,j),r29(i,j),r30(i,j)];
        sum(4,:) = [r31(i,j),r32(i,j),r33(i,j),r34(i,j),r35(i,j),r36(i,j),r37(i,j),r38(i,j),r39(i,j),r40(i,j)];
        sum(5,:) = [r41(i,j),r42(i,j),r43(i,j),r44(i,j),r45(i,j),r46(i,j),r47(i,j),r48(i,j),r49(i,j),r50(i,j)];
        mmm(count,1) = mean2(sum);
        mmm(count,2) = std2(sum) * std2(sum);
        count = count+1;
    end
end
%%
inte = round(mmm);        
[M I] = sort(inte(:,1));
integers = inte(I,:);
shrink = integers(1:100:end,:);

x = shrink(:,1);
y = shrink(:,2);
b1 = x\y;

yCalc1 = x*b1;
scatter(x,y)
hold on
h = lsline;
set(h,'color','r')
%read the y value from the line, and that is the intercept
%plot(x,yCalc1);
xlabel('mean')
ylabel('variance')
title('mean-variance plot')
grid on



        
        
